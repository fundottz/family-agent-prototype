–í—ã –∑–∞—Ç—Ä–æ–Ω—É–ª–∏ **–∫–ª—é—á–µ–≤—É—é –ø—Ä–æ–±–ª–µ–º—É –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–∏** ‚Äî —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É *–æ–ø–æ–≤–µ—â–µ–Ω–∏–µ–º* –∏ *—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ–º*. –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –Ω–µ –º–∞–∫—Ä–æ–∫–æ–º–∞–Ω–¥–∞, –∞ **–º–Ω–æ–≥–æ—à–∞–≥–æ–≤—ã–π —Å–æ—Ü–∏–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å** (workflow) —Å–æ —Å–≤–æ–∏–º–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏, —Ç–∞–π–º–∞—É—Ç–∞–º–∏ –∏ –≤–µ—Ç–≤–ª–µ–Ω–∏—è–º–∏.

–ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ ‚Äî –≤—ã–¥–µ–ª–∏—Ç—å —ç—Ç–æ—Ç —Å—Ü–µ–Ω–∞—Ä–∏–π –≤ **–æ—Ç–¥–µ–ª—å–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å (–æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä)**, –∫–æ—Ç–æ—Ä—ã–π —É–ø—Ä–∞–≤–ª—è–µ—Ç –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º —Å–æ–±—ã—Ç–∏—è –æ—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –¥–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∏–ª–∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã.

### üß† –°—É—Ç—å –ø—Ä–æ—Ü–µ—Å—Å–∞: –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ vs –û–ø–æ–≤–µ—â–µ–Ω–∏–µ
*   **–û–ø–æ–≤–µ—â–µ–Ω–∏–µ (—á—Ç–æ –µ—Å—Ç—å —Å–µ–π—á–∞—Å):** "–Ø —Å–æ–∑–¥–∞–ª —Å–æ–±—ã—Ç–∏–µ X –≤ 19:00". –≠—Ç–æ —Ñ–∞–∫—Ç.
*   **–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ (—á—Ç–æ –Ω—É–∂–Ω–æ):** "–Ø **–ø—Ä–µ–¥–ª–∞–≥–∞—é** —Å–æ–±—ã—Ç–∏–µ X –≤ 19:00. –¢—ã —Å–≤–æ–±–æ–¥–Ω–∞? –ï—Å–ª–∏ –Ω–µ—Ç ‚Äî –¥–∞–≤–∞–π –Ω–∞–π–¥—ë–º –¥—Ä—É–≥–æ–µ –≤—Ä–µ–º—è."

–≠—Ç–æ —Ç—Ä–µ–±—É–µ—Ç **–æ—Ç–¥–µ–ª—å–Ω–æ–π —Å—É—â–Ω–æ—Å—Ç–∏ –≤ –ë–î** (`PendingEvent`) –∏ **–º–∞—à–∏–Ω—ã —Å–æ—Å—Ç–æ—è–Ω–∏–π**.

### üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: "–°–æ–≥–ª–∞—Å—É—é—â–∏–π –û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä" –ø–æ–≤–µ—Ä—Ö CalendarService
–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Å–µ—Ä–≤–∏—Å, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –∫–∞–ª–µ–Ω–¥–∞—Ä—ë–º –Ω–∞–ø—Ä—è–º—É—é, –∞ —É–ø—Ä–∞–≤–ª—è–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å–æ–º –ø–µ—Ä–µ–≥–æ–≤–æ—Ä–æ–≤.

```python
# core/negotiation/models.py
from enum import Enum
from datetime import datetime
from pydantic import BaseModel
from typing import Optional, List

class ProposalStatus(str, Enum):
    PENDING = "pending"      # –û–∂–∏–¥–∞–µ—Ç –æ—Ç–≤–µ—Ç–∞
    CONFIRMED = "confirmed"  # –ü–∞—Ä—Ç–Ω—ë—Ä —Å–æ–≥–ª–∞—Å–∏–ª—Å—è
    DECLINED = "declined"    # –ü–∞—Ä—Ç–Ω—ë—Ä –æ—Ç–∫–ª–æ–Ω–∏–ª
    CANCELLED = "cancelled"  # –ò–Ω–∏—Ü–∏–∞—Ç–æ—Ä –æ—Ç–º–µ–Ω–∏–ª
    NEEDS_RESCHEDULE = "needs_reschedule" # –ö–æ–Ω—Ñ–ª–∏–∫—Ç, –Ω—É–∂–Ω–æ –Ω–æ–≤–æ–µ –≤—Ä–µ–º—è

class EventProposal(BaseModel):
    """–ú–æ–¥–µ–ª—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è —Å–æ–±—ã—Ç–∏—è, –∞ –Ω–µ —Å–∞–º–æ–≥–æ —Å–æ–±—ã—Ç–∏—è"""
    id: str
    title: str
    proposed_time: datetime
    initiator_id: int  # –ö—Ç–æ –ø—Ä–µ–¥–ª–æ–∂–∏–ª
    partner_id: int    # –ö—Ç–æ –¥–æ–ª–∂–µ–Ω —Å–æ–≥–ª–∞—Å–æ–≤–∞—Ç—å
    status: ProposalStatus
    created_at: datetime
    expires_at: datetime  # –î–æ –∫–∞–∫–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –∂–¥—ë–º –æ—Ç–≤–µ—Ç
    decline_reason: Optional[str] = None
    alternative_times: List[datetime] = []  # –í–∞—Ä–∏–∞–Ω—Ç—ã –Ω–∞ –ø–µ—Ä–µ—Å–º–æ—Ç—Ä
```

### üîÑ –ü—Ä–æ—Ü–µ—Å—Å —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è (State Machine)
–ü—Ä–æ—Ü–µ—Å—Å –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ –≥—Ä–∞—Ñ —Å —á—ë—Ç–∫–∏–º–∏ –ø–µ—Ä–µ—Ö–æ–¥–∞–º–∏:

```mermaid
flowchart TD
    A[–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: "–ó–∞–ø–ª–∞–Ω–∏—Ä—É–π —É–∂–∏–Ω –≤ –ø—è—Ç–Ω–∏—Ü—É"] --> B
    
    subgraph B [–§–∞–∑–∞ 1: –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è]
        B1[–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã<br>—É –∏–Ω–∏—Ü–∏–∞—Ç–æ—Ä–∞] --> B2
        B2[–°–æ–∑–¥–∞—Ç—å PendingEvent<br>—Å–æ —Å—Ç–∞—Ç—É—Å–æ–º PENDING] --> B3
        B3[–û—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–∞—Ä—Ç–Ω—ë—Ä—É<br>–∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ]
    end
    
    B3 --> C{–û–∂–∏–¥–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞<br>–ø–∞—Ä—Ç–Ω—ë—Ä–∞}
    
    C --> D[–ü–∞—Ä—Ç–Ω—ë—Ä —Å–æ–≥–ª–∞—Å–µ–Ω]
    C --> E[–ü–∞—Ä—Ç–Ω—ë—Ä –æ—Ç–∫–ª–æ–Ω–∏–ª]
    C --> F[–¢–∞–π–º–∞—É—Ç<br>–Ω–µ –æ—Ç–≤–µ—Ç–∏–ª]
    
    D --> G[–°–æ–∑–¥–∞—Ç—å –Ω–∞—Å—Ç–æ—è—â–µ–µ<br>—Å–æ–±—ã—Ç–∏–µ –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ]
    E --> H{–ò–Ω–∏—Ü–∏–∞—Ç–æ—Ä —Ö–æ—á–µ—Ç<br>–ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –¥—Ä—É–≥–∏–µ<br>–≤–∞—Ä–∏–∞–Ω—Ç—ã?}
    F --> I[–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏<br>–æ—Ç–º–µ–Ω–∏—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ]
    
    H --> J[–î–∞] --> K[–û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ<br>–Ω–æ–≤—ã–º–∏ –≤—Ä–µ–º–µ–Ω–∞–º–∏] --> C
    H --> L[–ù–µ—Ç] --> M[–ó–∞–≤–µ—Ä—à–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å<br>—Å—Ç–∞—Ç—É—Å DECLINED]
```

### üõ†Ô∏è –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤–∞—à–µ–π —Å–∏—Å—Ç–µ–º—ã
–í–æ—Ç –∫–∞–∫ —ç—Ç–æ –≤—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ —Ç–µ–∫—É—â—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É:

**1. –°–µ—Ä–≤–∏—Å –ø–µ—Ä–µ–≥–æ–≤–æ—Ä–æ–≤:**
```python
# core/negotiation/service.py
class NegotiationService:
    def __init__(self, calendar_service: CalendarService, notification_service: NotificationService):
        self.calendar = calendar_service
        self.notifier = notification_service
        self.proposals_db = {}  # –ò–ª–∏ —Ä–µ–∞–ª—å–Ω–∞—è –ë–î
    
    async def create_proposal(self, initiator_id: int, title: str, proposed_time: datetime) -> EventProposal:
        """–°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è (–Ω–µ —Å–æ–±—ã—Ç–∏—è!)"""
        # 1. –ü—Ä–æ–≤–µ—Ä—è–µ–º, —Å–≤–æ–±–æ–¥–µ–Ω –ª–∏ –∏–Ω–∏—Ü–∏–∞—Ç–æ—Ä
        is_initiator_free = await self.calendar.check_availability(initiator_id, proposed_time)
        if not is_initiator_free:
            raise ValueError("–í—ã —Å–∞–º–∏ –≤ —ç—Ç–æ –≤—Ä–µ–º—è –∑–∞–Ω—è—Ç—ã")
        
        # 2. –°–æ–∑–¥–∞—ë–º –∑–∞–ø–∏—Å—å –æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–∏ (–ù–ï —Å–æ–±—ã—Ç–∏–µ –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ)
        proposal = EventProposal(
            id=generate_id(),
            title=title,
            proposed_time=proposed_time,
            initiator_id=initiator_id,
            partner_id=get_partner_id(initiator_id),  # –õ–æ–≥–∏–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–∞—Ä—Ç–Ω—ë—Ä–∞
            status=ProposalStatus.PENDING,
            created_at=datetime.now(),
            expires_at=datetime.now() + timedelta(hours=12)  # –î–∞—ë–º 12 —á–∞—Å–æ–≤ –Ω–∞ –æ—Ç–≤–µ—Ç
        )
        
        # 3. –°–æ—Ö—Ä–∞–Ω—è–µ–º
        self.proposals_db[proposal.id] = proposal
        
        # 4. –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –ø–∞—Ä—Ç–Ω—ë—Ä—É –∑–∞–ø—Ä–æ—Å (–Ω–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ!)
        message = await self._create_proposal_message(proposal)
        await self.notifier.send_proposal(proposal.partner_id, proposal.id, message)
        
        return proposal
    
    async def handle_partner_response(self, proposal_id: str, response: str, reason: Optional[str] = None):
        """–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–∞ –ø–∞—Ä—Ç–Ω—ë—Ä–∞"""
        proposal = self.proposals_db.get(proposal_id)
        if not proposal:
            raise ValueError("–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ")
        
        if response == "accept":
            # 1. –ú–µ–Ω—è–µ–º —Å—Ç–∞—Ç—É—Å
            proposal.status = ProposalStatus.CONFIRMED
            
            # 2. –¢–û–õ–¨–ö–û –°–ï–ô–ß–ê–° —Å–æ–∑–¥–∞—ë–º —Ä–µ–∞–ª—å–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ
            await self.calendar.create_event(
                title=proposal.title,
                time=proposal.proposed_time,
                participants=[proposal.initiator_id, proposal.partner_id]
            )
            
            # 3. –£–≤–µ–¥–æ–º–ª—è–µ–º –∏–Ω–∏—Ü–∏–∞—Ç–æ—Ä–∞
            await self.notifier.send_confirmation(proposal.initiator_id, proposal)
            
        elif response == "decline":
            proposal.status = ProposalStatus.DECLINED
            proposal.decline_reason = reason
            
            # –°–ø—Ä–∞—à–∏–≤–∞–µ–º –∏–Ω–∏—Ü–∏–∞—Ç–æ—Ä–∞: —Ö–æ—á–µ—Ç –ª–∏ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –¥—Ä—É–≥–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã?
            await self.notifier.ask_for_alternatives(proposal.initiator_id, proposal)
```

**2. –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω–æ–≥–æ –∞–≥–µ–Ω—Ç–∞:**
```python
# –¢–µ–ø–µ—Ä—å —É –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω–æ–≥–æ –∞–≥–µ–Ω—Ç–∞ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –Ω–æ–≤–∞—è –∫–æ–º–∞–Ω–¥–∞
@agent.tool()
async def propose_event(
    title: str,
    time: str,  # "–∑–∞–≤—Ç—Ä–∞ –≤–µ—á–µ—Ä–æ–º", "–≤ –ø—è—Ç–Ω–∏—Ü—É –≤ 20:00"
    initiator_id: int
) -> str:
    """
    –ù–µ —Å–æ–∑–¥–∞—ë—Ç —Å–æ–±—ã—Ç–∏–µ, –∞ —Å–æ–∑–¥–∞—ë—Ç –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï –ø–∞—Ä—Ç–Ω—ë—Ä—É.
    –ü–∞—Ä—Ç–Ω—ë—Ä –¥–æ–ª–∂–µ–Ω —è–≤–Ω–æ —Å–æ–≥–ª–∞—Å–∏—Ç—å—Å—è.
    """
    # –ü–∞—Ä—Å–∏–º –≤—Ä–µ–º—è
    parsed_time = await date_parser.parse(time)
    
    # –ò—Å–ø–æ–ª—å–∑—É–µ–º —Å–µ—Ä–≤–∏—Å –ø–µ—Ä–µ–≥–æ–≤–æ—Ä–æ–≤, –∞ –Ω–µ –∫–∞–ª–µ–Ω–¥–∞—Ä—å
    proposal = await negotiation_service.create_proposal(
        initiator_id=initiator_id,
        title=title,
        proposed_time=parsed_time
    )
    
    return f"‚úÖ –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ '{title}' –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –ø–∞—Ä—Ç–Ω—ë—Ä—É. –ñ–¥—ë–º –æ—Ç–≤–µ—Ç –¥–æ {proposal.expires_at}."
```

**3. –û—Ç–¥–µ–ª—å–Ω—ã–π –∞–≥–µ–Ω—Ç –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—Ç–≤–µ—Ç–æ–≤:**
```python
# –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ—Ç –±–æ—Ç–∞ –ø–∞—Ä—Ç–Ω—ë—Ä—É –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:
"""
ü§ù –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –æ—Ç [–ú—É–∂]:
–£–∂–∏–Ω –≤ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–µ
–ü—è—Ç–Ω–∏—Ü–∞, 20:00

‚úÖ –°–æ–≥–ª–∞—Å–∏—Ç—å—Å—è
‚ùå –û—Ç–∫–ª–æ–Ω–∏—Ç—å (—É–∫–∞–∑–∞—Ç—å –ø—Ä–∏—á–∏–Ω—É)
üïê –ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å –¥—Ä—É–≥–æ–µ –≤—Ä–µ–º—è
"""

# –î–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —ç—Ç–∏—Ö –∫–Ω–æ–ø–æ–∫ —Å–æ–∑–¥–∞—ë–º –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –∞–≥–µ–Ω—Ç–∞ (–∏–ª–∏ —Ä–∞—Å—à–∏—Ä—è–µ–º —Ç–µ–∫—É—â–µ–≥–æ)
@agent.tool()
async def process_proposal_response(
    proposal_id: str,
    user_id: int,
    action: str,  # "accept", "decline", "counteroffer"
    reason: Optional[str] = None,
    alternative_time: Optional[str] = None
) -> str:
    """–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—Ç–≤–µ—Ç –ø–∞—Ä—Ç–Ω—ë—Ä–∞ –Ω–∞ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ"""
    await negotiation_service.handle_partner_response(
        proposal_id=proposal_id,
        response=action,
        reason=reason
    )
    return "–û—Ç–≤–µ—Ç –ø—Ä–∏–Ω—è—Ç"
```

### üì± –ö–∞–∫ —ç—Ç–æ –≤—ã–≥–ª—è–¥–∏—Ç –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**–°—Ü–µ–Ω–∞—Ä–∏–π 1: –£—Å–ø–µ—à–Ω–æ–µ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ**
```
[–ú—É–∂]: "–ó–∞–ø–ª–∞–Ω–∏—Ä—É–π —É–∂–∏–Ω –≤ –ø—è—Ç–Ω–∏—Ü—É –≤ 20:00"
[–ë–æ—Ç –ú—É–∂—É]: "–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ '–£–∂–∏–Ω' –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –∂–µ–Ω–µ. –ñ–¥—ë–º –æ—Ç–≤–µ—Ç –¥–æ –∑–∞–≤—Ç—Ä–∞ 10:00."

[–ë–æ—Ç –ñ–µ–Ω–µ]: "–ú—É–∂ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç: –£–∂–∏–Ω –≤ –ø—è—Ç–Ω–∏—Ü—É –≤ 20:00. –í—ã —Å–≤–æ–±–æ–¥–Ω—ã?"
[–ñ–µ–Ω–∞ (—á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫–∏)]: ‚úÖ –°–æ–≥–ª–∞—Å–∏—Ç—å—Å—è
[–ë–æ—Ç –ú—É–∂—É]: "–ñ–µ–Ω–∞ —Å–æ–≥–ª–∞—Å–Ω–∞! –°–æ–±—ã—Ç–∏–µ '–£–∂–∏–Ω' —Å–æ–∑–¥–∞–Ω–æ –≤ –ø—è—Ç–Ω–∏—Ü—É –≤ 20:00."
```

**–°—Ü–µ–Ω–∞—Ä–∏–π 2: –ö–æ–Ω—Ñ–ª–∏–∫—Ç —Å –ø–æ–∏—Å–∫–æ–º –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤**
```
[–ñ–µ–Ω–∞]: "‚ùå –û—Ç–∫–ª–æ–Ω–∏—Ç—å (—É –º–µ–Ω—è –≤ —ç—Ç–æ –≤—Ä–µ–º—è –π–æ–≥–∞)"
[–ë–æ—Ç –ú—É–∂—É]: "–ñ–µ–Ω–∞ –æ—Ç–∫–ª–æ–Ω–∏–ª–∞ '–£–∂–∏–Ω' –≤ 20:00 (–ø—Ä–∏—á–∏–Ω–∞: –π–æ–≥–∞). 
            –ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å –¥—Ä—É–≥–æ–µ –≤—Ä–µ–º—è? –ù–∞–ø—Ä–∏–º–µ—Ä: 19:00 –∏–ª–∏ 21:00"
[–ú—É–∂]: "–ü—Ä–µ–¥–ª–æ–∂–∏ –≤ 21:00"
[–ë–æ—Ç –ñ–µ–Ω–µ]: "–ú—É–∂ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—É: –£–∂–∏–Ω –≤ –ø—è—Ç–Ω–∏—Ü—É –≤ 21:00"
[–ñ–µ–Ω–∞]: ‚úÖ –°–æ–≥–ª–∞—Å–∏—Ç—å—Å—è
```

### üí° –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ç–∞–∫–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞

1.  **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏:** `CalendarService` —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Ñ–∞–∫—Ç–∞–º–∏ (—Å–æ–∑–¥–∞–Ω–Ω—ã–º–∏ —Å–æ–±—ã—Ç–∏—è–º–∏), `NegotiationService` ‚Äî —Å –Ω–∞–º–µ—Ä–µ–Ω–∏—è–º–∏ (–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è–º–∏).
2.  **–ß–µ–ª–æ–≤–µ—á–µ—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å:** –ï—Å—Ç—å –≤—Ä–µ–º—è –Ω–∞ –æ–±–¥—É–º—ã–≤–∞–Ω–∏–µ, –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã, —è–≤–Ω–æ–µ —Å–æ–≥–ª–∞—Å–∏–µ.
3.  **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –ø–µ—Ä–µ–≥–æ–≤–æ—Ä–æ–≤:** –ë–æ—Ç –≤—ã—Å—Ç—É–ø–∞–µ—Ç –º–µ–¥–∏–∞—Ç–æ—Ä–æ–º, –Ω–æ —Ä–µ—à–µ–Ω–∏–µ –≤—Å–µ–≥–¥–∞ –∑–∞ –ª—é–¥—å–º–∏.
4.  **–õ–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è–µ—Ç—Å—è:** –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ –¥–ª—è –±–æ–ª—å—à–µ–≥–æ —á–∏—Å–ª–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã —Å–æ–±—ã—Ç–∏–π –∏ —Ç.–¥.
5.  **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å–∏—Å—Ç–µ–º–æ–π:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –≤–∞—à `CalendarService` —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è.

### üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

1.  **–°–æ–∑–¥–∞–π—Ç–µ —Ç–∞–±–ª–∏—Ü—É `event_proposals`** –≤ –ë–î —Å –ø–æ–ª—è–º–∏ –∏–∑ `EventProposal`.
2.  **–†–µ–∞–ª–∏–∑—É–π—Ç–µ `NegotiationService`** —Å 4 –æ—Å–Ω–æ–≤–Ω—ã–º–∏ –º–µ—Ç–æ–¥–∞–º–∏: `create_proposal`, `accept_proposal`, `decline_proposal`, `suggest_alternative`.
3.  **–î–æ–±–∞–≤—å—Ç–µ 2 –Ω–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã** –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω–æ–º—É –∞–≥–µ–Ω—Ç—É: `propose_event` (–¥–ª—è –∏–Ω–∏—Ü–∏–∞—Ç–æ—Ä–∞) –∏ `respond_to_proposal` (–¥–ª—è –ø–∞—Ä—Ç–Ω—ë—Ä–∞).
4.  **–û–±–Ω–æ–≤–∏—Ç–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Telegram-–±–æ—Ç–∞** —Å –∏–Ω–ª–∞–π–Ω-–∫–Ω–æ–ø–∫–∞–º–∏ –¥–ª—è –±—ã—Å—Ç—Ä—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤.
5.  **–î–æ–±–∞–≤—å—Ç–µ —Ñ–æ–Ω–æ–≤—É—é –∑–∞–¥–∞—á—É**, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–æ–≤–µ—Ä—è–µ—Ç `expires_at` –∏ –æ—Ç–º–µ–Ω—è–µ—Ç –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è.

**–≠—Ç–æ –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –∏–∑ —Å–µ–∫—Ä–µ—Ç–∞—Ä—è –≤ –Ω–∞—Å—Ç–æ—è—â–µ–≥–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä–∞**, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –ø—Ä–æ—Å—Ç–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ø—Ä–∏–∫–∞–∑—ã, –∞ –ø–æ–º–æ–≥–∞–µ—Ç —Å–µ–º—å–µ –¥–æ–≥–æ–≤–∞—Ä–∏–≤–∞—Ç—å—Å—è ‚Äî —á—Ç–æ –≥–æ—Ä–∞–∑–¥–æ —Ü–µ–Ω–Ω–µ–µ –¥–ª—è —Å–µ–º–µ–π–Ω–æ–≥–æ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞.

–ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å —Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —ç—Ç–∞–ø–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º —Ç–∞–±–ª–∏—Ü—ã –ë–î –∏–ª–∏ —Å–æ–∑–¥–∞–Ω–∏–µ–º –∏–Ω–ª–∞–π–Ω-–∫–Ω–æ–ø–æ–∫ –≤ Telegram)?